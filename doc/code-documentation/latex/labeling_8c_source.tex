\hypertarget{labeling_8c_source}{}\doxysection{labeling.\+c}
\label{labeling_8c_source}\index{src/labeling.c@{src/labeling.c}}
\mbox{\hyperlink{labeling_8c}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00001}00001 \textcolor{comment}{/*}}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00002}00002 \textcolor{comment}{ * labeling.c}}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00003}00003 \textcolor{comment}{ *}}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00004}00004 \textcolor{comment}{ *  Created on: 19.02.2020.}}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00005}00005 \textcolor{comment}{ *      Author: nikol}}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00006}00006 \textcolor{comment}{ */}}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00007}00007 }
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00008}00008 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_segmentacija__slike_8h}{Segmentacija\_slike.h}}"{}}}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00009}00009 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{labeling_8h}{labeling.h}}"{}}}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00010}00010 }
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00011}00011 \textcolor{preprocessor}{\#ifdef LABELING\_V1}}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00020}00020 \textcolor{keywordtype}{void} \mbox{\hyperlink{labeling_8c_a03d89fc84527beaeeb9f93effda6c3dc}{labeling}}(\textcolor{keywordtype}{byte} * edge\_im, \mbox{\hyperlink{_segmentacija__slike_8h_a1134b580f8da4de94ca6b1de4d37975e}{uint32}} w,\mbox{\hyperlink{_segmentacija__slike_8h_a1134b580f8da4de94ca6b1de4d37975e}{uint32}} h)}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00021}00021 }
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00022}00022 \{}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00023}00023     \textcolor{comment}{// binary conversion}}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00024}00024     \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} i =0; i<w*h;i++)}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00025}00025     \{}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00026}00026         \textcolor{keywordflow}{if}(edge\_im[i] > 7)}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00027}00027             edge\_im[i] = 0;}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00028}00028         \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00029}00029             edge\_im[i] = 1;}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00030}00030     \}}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00031}00031     \textcolor{comment}{/*}}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00032}00032 \textcolor{comment}{     Maybe is better to make new matrix with values of edges UINT\_MAX}}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00033}00033 \textcolor{comment}{     With this it will be possible to remove EDGE\_VAL in if statement}}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00034}00034 \textcolor{comment}{     WAITING FOR NEXT ITERATION!!!!!!!}}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00035}00035 \textcolor{comment}{     */}}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00036}00036     \mbox{\hyperlink{_segmentacija__slike_8h_a0c8186d9b9b7880309c27230bbb5e69d}{byte}} (*mat\_val)[w] = (\mbox{\hyperlink{_segmentacija__slike_8h_a0c8186d9b9b7880309c27230bbb5e69d}{byte}}(*)[w])edge\_im;}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00037}00037     \mbox{\hyperlink{_segmentacija__slike_8h_a1134b580f8da4de94ca6b1de4d37975e}{uint32}} *parent = (\mbox{\hyperlink{_segmentacija__slike_8h_a1134b580f8da4de94ca6b1de4d37975e}{uint32}} *) heap\_malloc(0, w * h * \textcolor{keyword}{sizeof}(\mbox{\hyperlink{_segmentacija__slike_8h_a1134b580f8da4de94ca6b1de4d37975e}{uint32}}));}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00038}00038     \textcolor{keywordflow}{if} (parent == NULL) \{}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00039}00039         printf(\textcolor{stringliteral}{"{}Nije instancirana memorija\(\backslash\)n"{}});}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00040}00040         \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00041}00041     \}}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00042}00042     \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} i = 0;i<w*h;i++)                \textcolor{comment}{// Everyone is it's own parent}}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00043}00043     \{}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00044}00044         parent[i] = i;}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00045}00045     \}}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00046}00046     \mbox{\hyperlink{_segmentacija__slike_8h_a1134b580f8da4de94ca6b1de4d37975e}{uint32}} label\_counter = 1;}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00047}00047     \mbox{\hyperlink{_segmentacija__slike_8h_a1134b580f8da4de94ca6b1de4d37975e}{uint32}} min\_neighbour;}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00048}00048     \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} i = 1; i< h -\/ 1 ; i++)}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00049}00049     \{}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00050}00050         \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} j = 1; j < w -\/ 1; j++)}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00051}00051         \{}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00052}00052             min\_neighbour = UINT\_MAX;}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00053}00053             \textcolor{keywordflow}{if}(mat\_val[i][j] == \mbox{\hyperlink{read__write_8h_ae1f3b80657b0de6c597f3c4b188f4088}{EDGE\_VAL}})}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00054}00054             \{}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00055}00055                 \textcolor{keywordflow}{continue};}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00056}00056             \}}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00057}00057             \textcolor{keywordflow}{if} (mat\_val[i-\/1][j-\/1] > \mbox{\hyperlink{read__write_8h_ae1f3b80657b0de6c597f3c4b188f4088}{EDGE\_VAL}} \&\& mat\_val[i-\/1][j-\/1] < min\_neighbour)}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00058}00058             \{}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00059}00059                 min\_neighbour = mat\_val[i-\/1][j-\/1];}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00060}00060             \}}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00061}00061             \textcolor{keywordflow}{if} (mat\_val[i-\/1][j] > \mbox{\hyperlink{read__write_8h_ae1f3b80657b0de6c597f3c4b188f4088}{EDGE\_VAL}} \&\& mat\_val[i-\/1][j] < min\_neighbour)}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00062}00062             \{}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00063}00063                 min\_neighbour = mat\_val[i-\/1][j];}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00064}00064             \}}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00065}00065             \textcolor{keywordflow}{if} (mat\_val[i-\/1][j+1] > \mbox{\hyperlink{read__write_8h_ae1f3b80657b0de6c597f3c4b188f4088}{EDGE\_VAL}} \&\& mat\_val[i-\/1][j+1] < min\_neighbour)}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00066}00066             \{}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00067}00067                 min\_neighbour = mat\_val[i-\/1][j+1];}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00068}00068             \}}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00069}00069             \textcolor{keywordflow}{if} (mat\_val[i][j-\/1] > \mbox{\hyperlink{read__write_8h_ae1f3b80657b0de6c597f3c4b188f4088}{EDGE\_VAL}} \&\& mat\_val[i][j-\/1] < min\_neighbour)}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00070}00070             \{}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00071}00071                 min\_neighbour = mat\_val[i][j-\/1];}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00072}00072             \}}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00073}00073             \textcolor{keywordflow}{if}(min\_neighbour == UINT\_MAX)}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00074}00074             \{}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00075}00075                 label\_counter++;}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00076}00076                 min\_neighbour = label\_counter;}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00077}00077             \}}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00078}00078             mat\_val[i][j] = min\_neighbour; \textcolor{comment}{//assigning this pixel its label value}}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00079}00079             \textcolor{keywordflow}{if} (mat\_val[i-\/1][j+1] > \mbox{\hyperlink{read__write_8h_ae1f3b80657b0de6c597f3c4b188f4088}{EDGE\_VAL}} \&\& mat\_val[i-\/1][j+1] > min\_neighbour)}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00080}00080             \{}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00081}00081                 parent[mat\_val[i-\/1][j+1]] = min\_neighbour;}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00082}00082             \}}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00083}00083             \textcolor{keywordflow}{if} (mat\_val[i-\/1][j] > \mbox{\hyperlink{read__write_8h_ae1f3b80657b0de6c597f3c4b188f4088}{EDGE\_VAL}} \&\& mat\_val[i-\/1][j] > min\_neighbour)}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00084}00084             \{}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00085}00085                 parent[mat\_val[i-\/1][j]] = min\_neighbour;}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00086}00086             \}}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00087}00087         \}}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00088}00088     \}}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00089}00089     \textcolor{keywordtype}{int} i = 0;}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00090}00090     \textcolor{keywordtype}{int} j = 0;}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00091}00091     \textcolor{keywordflow}{for}(i = 0; i < label\_counter; i++)}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00092}00092     \{}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00093}00093         j = i;}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00094}00094         \textcolor{keywordflow}{while}(parent[j] != j) \{}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00095}00095             j = parent[j];}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00096}00096         \}}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00097}00097         parent[i] = j;}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00098}00098     \}}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00099}00099     \textcolor{keywordflow}{for}(i = 0; i< h; i++)}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00100}00100     \{}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00101}00101         \textcolor{keywordflow}{for}(j = 0; j < w; j++)}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00102}00102         \{}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00103}00103             mat\_val[i][j] = parent[mat\_val[i][j]];}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00104}00104         \}}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00105}00105     \}}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00106}00106     \mbox{\hyperlink{normalization_8c_a938720122e3561eab04e9d8522242428}{min\_max\_normalization}}(edge\_im, w, h);}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00107}00107 }
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00108}00108     heap\_free(0,parent);}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00109}00109 }
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00110}00110 \}}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00111}00111 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00112}00112 }
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00113}00113 \textcolor{preprocessor}{\#ifdef LABELING\_V2}}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00122}00122 \textcolor{keywordtype}{void} \mbox{\hyperlink{labeling_8c_a03d89fc84527beaeeb9f93effda6c3dc}{labeling}}(\textcolor{keywordtype}{byte} * restrict edge\_im, \mbox{\hyperlink{_segmentacija__slike_8h_a1134b580f8da4de94ca6b1de4d37975e}{uint32}} w, \mbox{\hyperlink{_segmentacija__slike_8h_a1134b580f8da4de94ca6b1de4d37975e}{uint32}} h)}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00123}00123 }
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00124}00124 \{}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00125}00125     \textcolor{comment}{// binary conversion}}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00126}00126 \textcolor{comment}{//\#pragma SIMD\_for}}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00127}00127     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < w * h; i++) \{}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00128}00128         \textcolor{keywordflow}{if} (edge\_im[i] > 7)}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00129}00129             edge\_im[i] = 0;}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00130}00130         \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00131}00131             edge\_im[i] = 1;}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00132}00132     \}}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00133}00133 }
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00134}00134     \mbox{\hyperlink{_segmentacija__slike_8h_a0c8186d9b9b7880309c27230bbb5e69d}{byte}} (*mat\_val)[w] = (\mbox{\hyperlink{_segmentacija__slike_8h_a0c8186d9b9b7880309c27230bbb5e69d}{byte}} (*)[w]) edge\_im;}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00135}00135     \mbox{\hyperlink{_segmentacija__slike_8h_a1134b580f8da4de94ca6b1de4d37975e}{uint32}} * restrict parent\_arr = (\mbox{\hyperlink{_segmentacija__slike_8h_a1134b580f8da4de94ca6b1de4d37975e}{uint32}} *) heap\_malloc(0, w * h * \textcolor{keyword}{sizeof}(\mbox{\hyperlink{_segmentacija__slike_8h_a1134b580f8da4de94ca6b1de4d37975e}{uint32}}));}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00136}00136     \textcolor{keywordflow}{if} (parent\_arr == NULL) \{}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00137}00137         printf(\textcolor{stringliteral}{"{}Nije instancirana memorija\(\backslash\)n"{}});}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00138}00138         \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00139}00139     \}}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00140}00140 \textcolor{preprocessor}{\#pragma vector\_for(4)}}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00141}00141     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < w*h; i++)          \textcolor{comment}{// Everyone is it's own parent}}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00142}00142     \{}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00143}00143         parent\_arr[i] = i;}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00144}00144     \}}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00145}00145     \mbox{\hyperlink{_segmentacija__slike_8h_a1134b580f8da4de94ca6b1de4d37975e}{uint32}} label\_counter = w*h;}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00146}00146     \mbox{\hyperlink{_segmentacija__slike_8h_a1134b580f8da4de94ca6b1de4d37975e}{uint32}} max\_neighbour;}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00147}00147 }
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00148}00148 }
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00149}00149     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 1; i < h -\/ 1; i++) \{}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00150}00150         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} j = 1; j < w -\/ 1; j++) \{}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00151}00151             max\_neighbour = 1;}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00152}00152             \textcolor{keywordflow}{if} (mat\_val[i][j] == \mbox{\hyperlink{read__write_8h_ae1f3b80657b0de6c597f3c4b188f4088}{EDGE\_VAL}}) \{}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00153}00153                 \textcolor{keywordflow}{continue};}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00154}00154             \}}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00155}00155             \textcolor{keywordflow}{if} (mat\_val[i -\/ 1][j -\/ 1] > max\_neighbour) \{}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00156}00156                 max\_neighbour = mat\_val[i -\/ 1][j -\/ 1];}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00157}00157             \}}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00158}00158             \textcolor{keywordflow}{if} (mat\_val[i -\/ 1][j] > max\_neighbour) \{}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00159}00159                 max\_neighbour = mat\_val[i -\/ 1][j];}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00160}00160             \}}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00161}00161             \textcolor{keywordflow}{if} (mat\_val[i -\/ 1][j + 1] > max\_neighbour) \{}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00162}00162                 max\_neighbour = mat\_val[i -\/ 1][j + 1];}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00163}00163             \}}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00164}00164             \textcolor{keywordflow}{if} (mat\_val[i][j -\/ 1] > max\_neighbour) \{}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00165}00165                 max\_neighbour = mat\_val[i][j -\/ 1];}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00166}00166             \}}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00167}00167             \textcolor{keywordflow}{if} (max\_neighbour == 1) \{}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00168}00168                 label\_counter-\/-\/;}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00169}00169                 max\_neighbour = label\_counter;}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00170}00170             \}}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00171}00171             mat\_val[i][j] = max\_neighbour; \textcolor{comment}{//assigning this pixel its label value}}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00172}00172             \textcolor{keywordflow}{if} (mat\_val[i -\/ 1][j + 1] < max\_neighbour) \{}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00173}00173                 parent\_arr[mat\_val[i -\/ 1][j + 1]] = max\_neighbour;}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00174}00174             \}}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00175}00175             \textcolor{keywordflow}{if} (mat\_val[i -\/ 1][j] < max\_neighbour) \{}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00176}00176                 parent\_arr[mat\_val[i -\/ 1][j]] = max\_neighbour;}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00177}00177             \}}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00178}00178         \}}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00179}00179     \}}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00180}00180     \textcolor{keywordtype}{int} i = 0;}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00181}00181     \textcolor{keywordtype}{int} j = 0;}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00182}00182 \textcolor{comment}{//\#pragma SIMD\_for}}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00183}00183     \textcolor{keywordflow}{for} (i = w*h; i >= label\_counter; i-\/-\/) \{}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00184}00184         j = i;}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00185}00185         \textcolor{keywordflow}{while} (parent\_arr[j] != j) \{}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00186}00186             j = parent\_arr[j];}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00187}00187         \}}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00188}00188         parent\_arr[i] = j;}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00189}00189     \}}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00190}00190     \textcolor{keywordflow}{for} (i = 0; i < h * w; i++) \{}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00191}00191         edge\_im[i] = parent\_arr[edge\_im[i]];}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00192}00192     \}}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00193}00193     \mbox{\hyperlink{normalization_8c_a938720122e3561eab04e9d8522242428}{min\_max\_normalization}}(edge\_im, w, h);}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00194}00194 }
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00195}00195     heap\_free(0,parent\_arr);}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00196}00196 \}}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00197}00197 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00198}00198 }
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00199}00199 \textcolor{preprocessor}{\#ifdef LABELING\_V2\_EXPECTED}}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00208}\mbox{\hyperlink{labeling_8c_a03d89fc84527beaeeb9f93effda6c3dc}{00208}} \textcolor{keywordtype}{void} \mbox{\hyperlink{labeling_8c_a03d89fc84527beaeeb9f93effda6c3dc}{labeling}}(\textcolor{keywordtype}{byte} * restrict edge\_im, \mbox{\hyperlink{_segmentacija__slike_8h_a1134b580f8da4de94ca6b1de4d37975e}{uint32}} w, \mbox{\hyperlink{_segmentacija__slike_8h_a1134b580f8da4de94ca6b1de4d37975e}{uint32}} h)}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00209}00209 }
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00210}00210 \{}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00211}00211     \textcolor{comment}{// binary conversion}}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00212}00212 \textcolor{comment}{//\#pragma SIMD\_for}}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00213}00213     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < w * h; i++) \{}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00214}00214         \textcolor{keywordflow}{if} (edge\_im[i] > 7)}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00215}00215             edge\_im[i] = 0;}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00216}00216         \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00217}00217             edge\_im[i] = 1;}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00218}00218     \}}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00219}00219 }
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00220}00220     \mbox{\hyperlink{_segmentacija__slike_8h_a0c8186d9b9b7880309c27230bbb5e69d}{byte}} (*mat\_val)[w] = (\mbox{\hyperlink{_segmentacija__slike_8h_a0c8186d9b9b7880309c27230bbb5e69d}{byte}} (*)[w]) edge\_im;}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00221}00221     \mbox{\hyperlink{_segmentacija__slike_8h_a1134b580f8da4de94ca6b1de4d37975e}{uint32}} * restrict parent\_arr = (\mbox{\hyperlink{_segmentacija__slike_8h_a1134b580f8da4de94ca6b1de4d37975e}{uint32}} *) heap\_malloc(0, w * h * \textcolor{keyword}{sizeof}(\mbox{\hyperlink{_segmentacija__slike_8h_a1134b580f8da4de94ca6b1de4d37975e}{uint32}}));}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00222}00222     \textcolor{keywordflow}{if} (parent\_arr == NULL) \{}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00223}00223         printf(\textcolor{stringliteral}{"{}Nije instancirana memorija\(\backslash\)n"{}});}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00224}00224         \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00225}00225     \}}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00226}00226     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < w*h; i++)          \textcolor{comment}{// Everyone is it's own parent}}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00227}00227     \{}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00228}00228         parent\_arr[i] = i;}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00229}00229     \}}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00230}00230     \mbox{\hyperlink{_segmentacija__slike_8h_a1134b580f8da4de94ca6b1de4d37975e}{uint32}} label\_counter = w*h;}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00231}00231     \mbox{\hyperlink{_segmentacija__slike_8h_a1134b580f8da4de94ca6b1de4d37975e}{uint32}} max\_neighbour;}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00232}00232 }
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00233}00233 }
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00234}00234     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 1; i < h -\/ 1; i++) \{}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00235}00235         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} j = 1; j < w -\/ 1; j++) \{}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00236}00236             max\_neighbour = 1;}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00237}00237             \textcolor{keywordflow}{if} (expected\_false(mat\_val[i][j] == \mbox{\hyperlink{read__write_8h_ae1f3b80657b0de6c597f3c4b188f4088}{EDGE\_VAL}})) \{}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00238}00238                 \textcolor{keywordflow}{continue};}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00239}00239             \}}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00240}00240             \textcolor{keywordflow}{if} (mat\_val[i -\/ 1][j -\/ 1] > max\_neighbour) \{}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00241}00241                 max\_neighbour = mat\_val[i -\/ 1][j -\/ 1];}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00242}00242             \}}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00243}00243             \textcolor{keywordflow}{if} (mat\_val[i -\/ 1][j] > max\_neighbour) \{}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00244}00244                 max\_neighbour = mat\_val[i -\/ 1][j];}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00245}00245             \}}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00246}00246             \textcolor{keywordflow}{if} (mat\_val[i -\/ 1][j + 1] > max\_neighbour) \{}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00247}00247                 max\_neighbour = mat\_val[i -\/ 1][j + 1];}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00248}00248             \}}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00249}00249             \textcolor{keywordflow}{if} (mat\_val[i][j -\/ 1] > max\_neighbour) \{}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00250}00250                 max\_neighbour = mat\_val[i][j -\/ 1];}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00251}00251             \}}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00252}00252             \textcolor{keywordflow}{if} (max\_neighbour == 1) \{}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00253}00253                 label\_counter-\/-\/;}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00254}00254                 max\_neighbour = label\_counter;}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00255}00255             \}}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00256}00256             mat\_val[i][j] = max\_neighbour; \textcolor{comment}{//assigning this pixel its label value}}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00257}00257             \textcolor{keywordflow}{if} (mat\_val[i -\/ 1][j + 1] < max\_neighbour) \{}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00258}00258                 parent\_arr[mat\_val[i -\/ 1][j + 1]] = max\_neighbour;}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00259}00259             \}}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00260}00260             \textcolor{keywordflow}{if} (mat\_val[i -\/ 1][j] < max\_neighbour) \{}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00261}00261                 parent\_arr[mat\_val[i -\/ 1][j]] = max\_neighbour;}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00262}00262             \}}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00263}00263         \}}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00264}00264     \}}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00265}00265     \textcolor{keywordtype}{int} i = 0;}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00266}00266     \textcolor{keywordtype}{int} j = 0;}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00267}00267     \textcolor{keywordflow}{for} (i = w*h; i >= label\_counter; i-\/-\/) \{}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00268}00268         j = i;}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00269}00269         \textcolor{keywordflow}{while} (parent\_arr[j] != j) \{}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00270}00270             j = parent\_arr[j];}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00271}00271         \}}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00272}00272         parent\_arr[i] = j;}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00273}00273     \}}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00274}00274     \textcolor{keywordflow}{for} (i = 0; i < h * w; i++) \{}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00275}00275         edge\_im[i] = parent\_arr[edge\_im[i]];}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00276}00276     \}}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00277}00277     \mbox{\hyperlink{normalization_8c_a938720122e3561eab04e9d8522242428}{min\_max\_normalization}}(edge\_im, w, h);}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00278}00278 }
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00279}00279     heap\_free(0,parent\_arr);}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00280}00280 \}}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00281}00281 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00282}00282 }
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00283}00283 }
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00284}00284 \textcolor{preprocessor}{\#ifdef KNOWN\_IMAGE\_SIZE\_LABELING\_OPTIMIZED}}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00293}00293 \textcolor{keywordtype}{void} \mbox{\hyperlink{labeling_8c_a03d89fc84527beaeeb9f93effda6c3dc}{labeling}}(\textcolor{keywordtype}{byte} * restrict edge\_im, \mbox{\hyperlink{_segmentacija__slike_8h_a1134b580f8da4de94ca6b1de4d37975e}{uint32}} w, \mbox{\hyperlink{_segmentacija__slike_8h_a1134b580f8da4de94ca6b1de4d37975e}{uint32}} h)}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00294}00294 }
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00295}00295 \{}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00296}00296     \textcolor{comment}{// binary conversion}}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00297}00297 }
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00298}00298     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < \mbox{\hyperlink{_segmentacija__slike_8h_a649b8f01fd6c0f47ff3cbddaeba63bfb}{W}} * \mbox{\hyperlink{_segmentacija__slike_8h_abec92cc72a096640b821b8cd56a02495}{H}}; i++) \{}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00299}00299         \textcolor{keywordflow}{if} (edge\_im[i] > 7)}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00300}00300             edge\_im[i] = 0;}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00301}00301         \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00302}00302             edge\_im[i] = 1;}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00303}00303     \}}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00304}00304 }
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00305}00305     \mbox{\hyperlink{_segmentacija__slike_8h_a0c8186d9b9b7880309c27230bbb5e69d}{byte}} (*mat\_val)[\mbox{\hyperlink{_segmentacija__slike_8h_a649b8f01fd6c0f47ff3cbddaeba63bfb}{W}}] = (\mbox{\hyperlink{_segmentacija__slike_8h_a0c8186d9b9b7880309c27230bbb5e69d}{byte}} (*)[\mbox{\hyperlink{_segmentacija__slike_8h_a649b8f01fd6c0f47ff3cbddaeba63bfb}{W}}]) edge\_im;}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00306}00306     \mbox{\hyperlink{_segmentacija__slike_8h_a1134b580f8da4de94ca6b1de4d37975e}{uint32}} * restrict parent\_arr = (\mbox{\hyperlink{_segmentacija__slike_8h_a1134b580f8da4de94ca6b1de4d37975e}{uint32}} *) heap\_malloc(0, \mbox{\hyperlink{_segmentacija__slike_8h_a649b8f01fd6c0f47ff3cbddaeba63bfb}{W}} * \mbox{\hyperlink{_segmentacija__slike_8h_abec92cc72a096640b821b8cd56a02495}{H}} * \textcolor{keyword}{sizeof}(\mbox{\hyperlink{_segmentacija__slike_8h_a1134b580f8da4de94ca6b1de4d37975e}{uint32}}));}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00307}00307     \textcolor{keywordflow}{if} (parent\_arr == NULL) \{}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00308}00308         printf(\textcolor{stringliteral}{"{}Nije instancirana memorija\(\backslash\)n"{}});}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00309}00309         \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00310}00310     \}}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00311}00311 }
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00312}00312     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < \mbox{\hyperlink{_segmentacija__slike_8h_a649b8f01fd6c0f47ff3cbddaeba63bfb}{W}}*\mbox{\hyperlink{_segmentacija__slike_8h_abec92cc72a096640b821b8cd56a02495}{H}}; i++)          \textcolor{comment}{// Everyone is it's own parent}}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00313}00313     \{}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00314}00314         parent\_arr[i] = i;}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00315}00315     \}}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00316}00316     \mbox{\hyperlink{_segmentacija__slike_8h_a1134b580f8da4de94ca6b1de4d37975e}{uint32}} label\_counter = \mbox{\hyperlink{_segmentacija__slike_8h_a649b8f01fd6c0f47ff3cbddaeba63bfb}{W}}*\mbox{\hyperlink{_segmentacija__slike_8h_abec92cc72a096640b821b8cd56a02495}{H}};}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00317}00317     \mbox{\hyperlink{_segmentacija__slike_8h_a1134b580f8da4de94ca6b1de4d37975e}{uint32}} max\_neighbour;}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00318}00318 }
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00319}00319 }
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00320}00320     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 1; i < \mbox{\hyperlink{_segmentacija__slike_8h_abec92cc72a096640b821b8cd56a02495}{H}} -\/ 1; i++) \{}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00321}00321         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} j = 1; j < \mbox{\hyperlink{_segmentacija__slike_8h_a649b8f01fd6c0f47ff3cbddaeba63bfb}{W}} -\/ 1; j++) \{}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00322}00322             max\_neighbour = 1;}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00323}00323             \textcolor{keywordflow}{if} (expected\_false(mat\_val[i][j] == \mbox{\hyperlink{read__write_8h_ae1f3b80657b0de6c597f3c4b188f4088}{EDGE\_VAL}})) \{}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00324}00324                 \textcolor{keywordflow}{continue};}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00325}00325             \}}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00326}00326             \textcolor{keywordflow}{if} (mat\_val[i -\/ 1][j -\/ 1] > max\_neighbour) \{}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00327}00327                 max\_neighbour = mat\_val[i -\/ 1][j -\/ 1];}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00328}00328             \}}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00329}00329             \textcolor{keywordflow}{if} (mat\_val[i -\/ 1][j] > max\_neighbour) \{}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00330}00330                 max\_neighbour = mat\_val[i -\/ 1][j];}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00331}00331             \}}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00332}00332             \textcolor{keywordflow}{if} (mat\_val[i -\/ 1][j + 1] > max\_neighbour) \{}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00333}00333                 max\_neighbour = mat\_val[i -\/ 1][j + 1];}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00334}00334             \}}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00335}00335             \textcolor{keywordflow}{if} (mat\_val[i][j -\/ 1] > max\_neighbour) \{}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00336}00336                 max\_neighbour = mat\_val[i][j -\/ 1];}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00337}00337             \}}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00338}00338             \textcolor{keywordflow}{if} (max\_neighbour == 1) \{}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00339}00339                 label\_counter-\/-\/;}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00340}00340                 max\_neighbour = label\_counter;}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00341}00341             \}}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00342}00342             mat\_val[i][j] = max\_neighbour; \textcolor{comment}{//assigning this pixel its label value}}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00343}00343             \textcolor{keywordflow}{if} (mat\_val[i -\/ 1][j + 1] < max\_neighbour) \{}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00344}00344                 parent\_arr[mat\_val[i -\/ 1][j + 1]] = max\_neighbour;}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00345}00345             \}}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00346}00346             \textcolor{keywordflow}{if} (mat\_val[i -\/ 1][j] < max\_neighbour) \{}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00347}00347                 parent\_arr[mat\_val[i -\/ 1][j]] = max\_neighbour;}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00348}00348             \}}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00349}00349         \}}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00350}00350     \}}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00351}00351     \textcolor{keywordtype}{int} i = 0;}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00352}00352     \textcolor{keywordtype}{int} j = 0;}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00353}00353     \textcolor{keywordflow}{for} (i = \mbox{\hyperlink{_segmentacija__slike_8h_a649b8f01fd6c0f47ff3cbddaeba63bfb}{W}}*\mbox{\hyperlink{_segmentacija__slike_8h_abec92cc72a096640b821b8cd56a02495}{H}}; i >= label\_counter; i-\/-\/) \{}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00354}00354         j = i;}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00355}00355         \textcolor{keywordflow}{while} (parent\_arr[j] != j) \{}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00356}00356             j = parent\_arr[j];}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00357}00357         \}}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00358}00358         parent\_arr[i] = j;}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00359}00359     \}}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00360}00360     \textcolor{keywordflow}{for} (i = 0; i < \mbox{\hyperlink{_segmentacija__slike_8h_abec92cc72a096640b821b8cd56a02495}{H}} * \mbox{\hyperlink{_segmentacija__slike_8h_a649b8f01fd6c0f47ff3cbddaeba63bfb}{W}}; i++) \{}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00361}00361         edge\_im[i] = parent\_arr[edge\_im[i]];}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00362}00362     \}}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00363}00363     \mbox{\hyperlink{normalization_8c_a938720122e3561eab04e9d8522242428}{min\_max\_normalization}}(edge\_im, \mbox{\hyperlink{_segmentacija__slike_8h_a649b8f01fd6c0f47ff3cbddaeba63bfb}{W}}, \mbox{\hyperlink{_segmentacija__slike_8h_abec92cc72a096640b821b8cd56a02495}{H}});}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00364}00364 }
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00365}00365     heap\_free(0,parent\_arr);}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00366}00366 \}}
\DoxyCodeLine{\Hypertarget{labeling_8c_source_l00367}00367 \textcolor{preprocessor}{\#endif}}

\end{DoxyCode}
